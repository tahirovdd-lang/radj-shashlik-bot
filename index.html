<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- üî§ –ù–æ–≤—ã–π —à—Ä–∏—Ñ—Ç -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&display=swap" rel="stylesheet">

<style>
:root{
    --blue:#4a90e2;
    --green:#2e7d32;
    --bg:#f2f4f7;
}

/* BASE */
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
    background:linear-gradient(180deg,#eef2f7,#f7f9fc);
    color:#1c1c1e;
}

/* HEADER */
.header{
    padding:16px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    box-shadow:0 6px 20px rgba(0,0,0,.12);
}
.logo-wrap{display:flex;align-items:center;gap:12px;}
.header img{max-width:110px;}
.header-title{
    font-family:'Montserrat',sans-serif;
    font-size:30px;
    font-weight:900;
    letter-spacing:.4px;
}
.search-btn{
    width:38px;height:38px;
    border-radius:50%;
    border:none;
    background:rgba(255,255,255,.25);
    color:#fff;
    font-size:18px;
}

/* SEARCH */
.search-input{
    display:none;
    margin:10px;
    padding:14px;
    width:calc(100% - 20px);
    border-radius:18px;
    border:none;
    box-shadow:0 6px 20px rgba(0,0,0,.08);
}

/* BUTTON GROUPS */
.langs,.types,.categories,.payments{
    display:flex;
    gap:10px;
    padding:10px;
    overflow-x:auto;
}

/* BUTTON */
.btn{
    padding:10px 18px;
    border-radius:22px;
    background:#fff;
    border:1px solid #e1e5ea;
    font-size:14px;
    font-weight:600;
    transition:.25s;
    box-shadow:0 3px 8px rgba(0,0,0,.05);
}
.btn.active{
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    border:none;
    box-shadow:0 8px 20px rgba(74,144,226,.45);
}

/* PAYMENTS */
.payments .btn{flex:1;font-size:15px;}
#payClick.active{
    background:linear-gradient(135deg,#00c853,#64dd17);
    box-shadow:0 10px 24px rgba(0,200,83,.45);
}

/* INPUTS */
.input,textarea{
    margin:10px;
    padding:14px;
    width:calc(100% - 20px);
    border-radius:18px;
    border:none;
    font-size:14px;
    background:#fff;
    box-shadow:0 6px 18px rgba(0,0,0,.08);
}
textarea{resize:none;}

/* PRODUCTS */
.products{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:14px;
    padding:12px;
}
.card{
    background:#fff;
    border-radius:20px;
    padding:12px;
    text-align:center;
    box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.img{
    height:110px;
    border-radius:16px;
    background:linear-gradient(135deg,#eceff4,#dde3ea);
    display:flex;
    align-items:center;
    justify-content:center;
    color:#9aa0a6;
    font-weight:600;
}
.price{margin-top:8px;font-weight:800;color:var(--green);}
.name{font-size:14px;margin-top:6px;}

/* COUNTER */
.counter{
    display:flex;
    justify-content:center;
    gap:12px;
    margin-top:8px;
}
.counter span{
    min-width:22px;
    font-weight:800;
    font-size:16px;
}
.counter button{
    width:32px;height:32px;
    border-radius:50%;
    border:none;
    font-size:18px;
    background:#eef1f4;
    transition:.15s;
}
.counter button:active{
    transform:scale(.85);
    background:#dbe2ea;
}

/* CART */
.cart{
    background:#fff;
    margin:12px;
    padding:16px;
    border-radius:22px;
    box-shadow:0 12px 30px rgba(0,0,0,.1);
}
.order-btn{
    width:100%;
    padding:16px;
    margin-top:14px;
    border:none;
    border-radius:20px;
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    font-size:16px;
    font-weight:800;
}
</style>

</head>

<body>

<div class="header">
    <div class="logo-wrap">
        <img src="logo.png">
        <div class="header-title">Radj Shashlik</div>
    </div>
    <button class="search-btn" onclick="toggleSearch()">üîç</button>
</div>

<input id="search" class="search-input">

<div class="langs">
    <button class="btn active" onclick="setLang('ru',this)">RU</button>
    <button class="btn" onclick="setLang('uz',this)">UZ</button>
    <button class="btn" onclick="setLang('en',this)">EN</button>
</div>

<div class="types">
    <button class="btn active" onclick="setType('delivery',this)" id="btnDelivery"></button>
    <button class="btn" onclick="setType('pickup',this)" id="btnPickup"></button>
</div>

<input id="address" class="input">
<input id="phone" class="input">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
    <b id="cartTitle"></b>: <span id="total">0</span> —Å—É–º
    <textarea id="comment" rows="3"></textarea>

    <div class="payments">
        <button class="btn active" onclick="setPayment('cash')" id="payCash">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</button>
        <button class="btn" onclick="setPayment('click')" id="payClick">üí≥ CLICK</button>
    </div>

    <button class="order-btn" onclick="sendOrder()" id="orderBtn"></button>
</div>

<script>
Telegram.WebApp.ready();

let lang='ru',category='salads',type='delivery',cart={},searchValue='';
let payment='cash';

const TEXT={
ru:{delivery:'üöö –î–æ—Å—Ç–∞–≤–∫–∞',pickup:'üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑',address:'üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏',phone:'üìû –¢–µ–ª–µ—Ñ–æ–Ω',cart:'üõí –ö–æ—Ä–∑–∏–Ω–∞',order:'–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑',comment:'üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É',search:'üîé –ü–æ–∏—Å–∫ –±–ª—é–¥'},
uz:{delivery:'üöö Yetkazib berish',pickup:'üèÉ Olib ketish',address:'üìç Manzil',phone:'üìû Telefon',cart:'üõí Savat',order:'Buyurtma berish',comment:'üí¨ Izoh',search:'üîé Qidirish'},
en:{delivery:'üöö Delivery',pickup:'üèÉ Pickup',address:'üìç Address',phone:'üìû Phone',cart:'üõí Cart',order:'Place order',comment:'üí¨ Comment',search:'üîé Search'}
};

const CATS={
ru:{salads:'ü•ó –°–∞–ª–∞—Ç—ã',kebab:'üî• –®–∞—à–ª—ã–∫',national:'üç≤ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ',grill:'ü•© –ù–∞ –º–∞–Ω–≥–∞–ª–µ',first:'üçú –ü–µ—Ä–≤—ã–µ',drinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏',bread:'ü•ñ –•–ª–µ–±'},
uz:{salads:'ü•ó Salatlar',kebab:'üî• Shashlik',national:'üç≤ Milliy',grill:'ü•© Mangal',first:'üçú Sho‚Äòrva',drinks:'ü•§ Ichimliklar',bread:'ü•ñ Non'},
en:{salads:'ü•ó Salads',kebab:'üî• Kebab',national:'üç≤ National',grill:'ü•© Grill',first:'üçú Soups',drinks:'ü•§ Drinks',bread:'ü•ñ Bread'}
};

const MENU={
salads:[['–°–≤–µ–∂–∏–π',30000],['–ê—á–∏—á—É–∫',30000],['–®–∞–∫–∞—Ä–æ–ø',30000],['–¶–µ–∑–∞—Ä—å',35000],['–•—Ä—É—Å—Ç—è—â–∏–π –±–∞–∫–ª–∞–∂–∞–Ω',45000]],
kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000],['–ö—É—Å–∫–æ–≤–æ–π –±–∞—Ä–∞–Ω–∏–Ω–∞',30000],['–ö–æ—Ä–µ–π–∫–∞',40000],['–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ',22000]],
national:[['–ñ–∏–∑ –ë–∏–∑ 1–∫–≥',260000],['–ñ–∏–∑ –ë–∏–∑ 0.5–∫–≥',130000]],
grill:[['–°—Ç–µ–π–∫ –∫—É—Ä–∏–Ω—ã–π',100000],['–ë–∞—Ä–∞–Ω–∏–Ω–∞ —Å –≥—Ä–∏–±–∞–º–∏ 1–∫–≥',200000]],
first:[['–®—É—Ä–ø–∞',35000],['–ë–æ—Ä—â',25000],['–ú–∞—Å—Ç–∞–≤–∞',25000]],
drinks:[['–ß–∞–π',5000],['Coca-Cola 1L',14000],['Fanta 1.5L',18000]],
bread:[['–õ–µ–ø–µ—à–∫–∞',10000]]
};

function applyLang(){
    btnDelivery.innerText=TEXT[lang].delivery;
    btnPickup.innerText=TEXT[lang].pickup;
    address.placeholder=TEXT[lang].address;
    phone.placeholder=TEXT[lang].phone;
    cartTitle.innerText=TEXT[lang].cart;
    orderBtn.innerText=TEXT[lang].order;
    comment.placeholder=TEXT[lang].comment;
    search.placeholder=TEXT[lang].search;
    renderCats();renderProducts();
}

function setPayment(p){
    payment=p;
    payCash.classList.toggle('active',p==='cash');
    payClick.classList.toggle('active',p==='click');
}

function toggleSearch(){search.style.display=search.style.display==='block'?'none':'block';}
search.oninput=e=>{searchValue=e.target.value.toLowerCase();renderProducts();};

function renderCats(){
    cats.innerHTML='';
    for(let k in CATS[lang]){
        cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[lang][k]}</button>`;
    }
}

function renderProducts(){
    products.innerHTML='';
    MENU[category].filter(i=>i[0].toLowerCase().includes(searchValue)).forEach(([n,p])=>{
        cart[n]=cart[n]||0;
        products.innerHTML+=`
        <div class="card">
            <div class="img">–§–æ—Ç–æ</div>
            <div class="price">${p} —Å—É–º</div>
            <div class="name">${n}</div>
            <div class="counter">
                <button onclick="chg('${n}',-1,this)">‚àí</button>
                <span id="c_${n}">${cart[n]}</span>
                <button onclick="chg('${n}',1,this)">+</button>
            </div>
        </div>`;
    });
    upd();
}

function chg(n,v,btn){
    cart[n]=Math.max(0,(cart[n]||0)+v);

    const el=document.getElementById('c_'+n);
    if(el) el.innerText=cart[n];

    btn.style.transform='scale(.85)';
    setTimeout(()=>btn.style.transform='',120);

    upd();
}

function upd(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function setLang(l,b){
    lang=l;
    document.querySelectorAll('.langs .btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    applyLang();
}
function setType(t,b){
    type=t;
    document.querySelectorAll('.types .btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    address.style.display=t==='pickup'?'none':'block';
}

function sendOrder(){
    const order={};
    for(let k in cart) if(cart[k]>0) order[k]=cart[k];

    Telegram.WebApp.sendData(JSON.stringify({
        order,
        phone: phone.value||'‚Äî',
        comment: comment.value||'‚Äî',
        delivery: type,
        address: type==='delivery'?address.value:'–°–∞–º–æ–≤—ã–≤–æ–∑',
        total: total.innerText,
        payment: payment,
        lang
    }));
    Telegram.WebApp.close();
}

applyLang();
</script>

</body>
</html>











