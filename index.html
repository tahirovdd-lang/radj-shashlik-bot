<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{font-family:Arial;background:#f5f5f5;margin:0;padding:10px 10px 90px}
.logo{text-align:center;margin-bottom:10px}
.logo img{width:90px;border-radius:14px}
h2{text-align:center}

.card{
  background:#fff;border-radius:14px;padding:12px;margin-bottom:10px;
  display:flex;justify-content:space-between;align-items:center
}
.controls button{
  width:36px;height:36px;border:none;border-radius:50%;font-size:18px
}
.plus{background:#4CAF50;color:#fff}
.minus{background:#ddd}
.price{color:#2ecc71;font-weight:bold}

.cart{
  background:#fff;border-radius:14px;padding:12px;margin-top:10px
}
input{
  width:100%;padding:12px;margin-top:10px;
  border-radius:10px;border:1px solid #ccc
}
</style>
</head>

<body>

<div class="logo">
  <img src="logo.png">
</div>

<h2>üçΩ Radj Shashlik</h2>

<div id="menu"></div>

<div class="cart">
  <b>üõí –ö–æ—Ä–∑–∏–Ω–∞</b>
  <div id="cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
  <div><b>–ò—Ç–æ–≥–æ:</b> <span id="total">0</span> —Å—É–º</div>
</div>

<input id="phone" placeholder="üì± –¢–µ–ª–µ—Ñ–æ–Ω">

<script>
const tg = Telegram.WebApp;
tg.ready();
tg.expand();

const menu = {
  "–®–∞—à–ª—ã–∫ –∫—É—Ä–∏–Ω—ã–π": 45000,
  "–®–∞—à–ª—ã–∫ –≥–æ–≤—è–∂–∏–π": 60000,
  "–ü–ª–æ–≤": 50000,
  "–®—É—Ä–ø–∞": 35000,
  "–õ–µ–ø—ë—à–∫–∞": 5000
};

const cart = {};

function render(){
  const m=document.getElementById("menu");
  m.innerHTML="";
  for(let n in menu){
    if(!cart[n]) cart[n]=0;
    m.innerHTML+=`
      <div class="card">
        <div>
          <b>${n}</b>
          <div class="price">${menu[n]} —Å—É–º</div>
        </div>
        <div class="controls">
          <button class="minus" onclick="add('${n}',-1)">‚àí</button>
          <span>${cart[n]}</span>
          <button class="plus" onclick="add('${n}',1)">+</button>
        </div>
      </div>`;
  }
  updateCart();
}

function add(n,d){
  cart[n]=Math.max(0,cart[n]+d);
  render();
}

function updateCart(){
  let t=0,html="";
  for(let i in cart){
    if(cart[i]>0){
      t+=cart[i]*menu[i];
      html+=`${i} √ó ${cart[i]}<br>`;
    }
  }
  document.getElementById("cart").innerHTML=html||"–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞";
  document.getElementById("total").innerText=t;

  if(t>0){
    tg.MainButton.setText("–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Ä¢ "+t+" —Å—É–º");
    tg.MainButton.show();
  }else tg.MainButton.hide();
}

tg.MainButton.onClick(()=>{
  const phone=document.getElementById("phone").value.trim();
  if(!phone){
    tg.showAlert("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω");
    return;
  }

  tg.sendData(JSON.stringify({
    order: cart,
    total: document.getElementById("total").innerText,
    phone: phone,
    lang: "ru"
  }));

  tg.showPopup({
    title:"–ì–æ—Ç–æ–≤–æ",
    message:"–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω üëç",
    buttons:[{type:"ok"}]
  });
});

render();
</script>

</body>
</html>




