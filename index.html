<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f2f4f7;}
.header{padding:15px;display:flex;align-items:center;justify-content:space-between;}
.logo-wrap{display:flex;align-items:center;gap:12px;}
.header img{max-width:120px;}
.header-title{font-size:26px;font-weight:800;letter-spacing:0.5px;}
.search-btn{width:36px;height:36px;border-radius:50%;border:none;background:#4a90e2;color:#fff;font-size:18px;}
.search-input{display:none;margin:0 10px 10px;padding:12px;width:calc(100% - 20px);border-radius:14px;border:none;}

.langs,.types,.categories,.payments{
    display:flex;
    gap:10px;
    padding:10px;
    overflow-x:auto;
}

.btn{
    padding:10px 16px;
    border-radius:20px;
    background:#fff;
    border:1px solid #dfe3e8;
    font-size:14px;
    font-weight:600;
    transition:0.2s;
}
.btn.active{
    background:#4a90e2;
    color:#fff;
    border-color:#4a90e2;
}

.langs .btn{
    min-width:60px;
    justify-content:center;
}

.payments .btn{
    flex:1;
    text-align:center;
    font-size:15px;
}

.input,textarea{
    margin:10px;
    padding:12px;
    width:calc(100% - 20px);
    border-radius:14px;
    border:none;
    font-size:14px;
}
textarea{resize:none;}

.products{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:12px;
    padding:10px;
}
.card{
    background:#fff;
    border-radius:16px;
    padding:10px;
    text-align:center;
}
.img{
    height:100px;
    background:#e1e5ea;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
}
.price{margin-top:6px;font-weight:bold;color:#2e7d32;}
.name{font-size:14px;margin-top:4px;}
.counter{display:flex;justify-content:center;gap:10px;margin-top:6px;}
.counter button{
    width:30px;height:30px;
    border-radius:50%;
    border:none;
    font-size:18px;
    background:#eef1f4;
}

.cart{
    background:#fff;
    margin:10px;
    padding:14px;
    border-radius:18px;
}
.order-btn{
    width:100%;
    padding:14px;
    margin-top:12px;
    border:none;
    border-radius:16px;
    background:#4a90e2;
    color:#fff;
    font-size:16px;
    font-weight:700;
}
</style>
</head>

<body>

<div class="header">
    <div class="logo-wrap">
        <img src="logo.png">
        <div class="header-title">Radj Shashlik</div>
    </div>
    <button class="search-btn" onclick="toggleSearch()">üîç</button>
</div>

<input id="search" class="search-input">

<div class="langs">
    <button class="btn active" onclick="setLang('ru')">RU</button>
    <button class="btn" onclick="setLang('uz')">UZ</button>
    <button class="btn" onclick="setLang('en')">EN</button>
</div>

<div class="types">
    <button class="btn active" onclick="setType('delivery')" id="btnDelivery"></button>
    <button class="btn" onclick="setType('pickup')" id="btnPickup"></button>
</div>

<input id="address" class="input">
<input id="phone" class="input">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
    <b id="cartTitle"></b>: <span id="total">0</span> —Å—É–º
    <textarea id="comment" rows="3"></textarea>

    <!-- üî¥ PAYMENT BLOCK (–ü–ï–†–ï–ù–ï–°–Å–ù –ù–ò–ñ–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–Ø) -->
    <div class="payments">
        <button class="btn active" onclick="setPayment('cash')" id="payCash">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</button>
        <button class="btn" onclick="setPayment('click')" id="payClick">üí≥ CLICK</button>
    </div>

    <button class="order-btn" onclick="sendOrder()" id="orderBtn"></button>
</div>

<script>
Telegram.WebApp.ready();

let lang='ru',category='salads',type='delivery',cart={},searchValue='';
let payment='cash';

const TEXT={
ru:{delivery:'üöö –î–æ—Å—Ç–∞–≤–∫–∞',pickup:'üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑',address:'üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏',phone:'üìû –¢–µ–ª–µ—Ñ–æ–Ω',cart:'üõí –ö–æ—Ä–∑–∏–Ω–∞',order:'–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑',comment:'üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É',search:'üîé –ü–æ–∏—Å–∫ –±–ª—é–¥'},
uz:{delivery:'üöö Yetkazib berish',pickup:'üèÉ Olib ketish',address:'üìç Manzil',phone:'üìû Telefon',cart:'üõí Savat',order:'Buyurtma berish',comment:'üí¨ Izoh',search:'üîé Qidirish'},
en:{delivery:'üöö Delivery',pickup:'üèÉ Pickup',address:'üìç Address',phone:'üìû Phone',cart:'üõí Cart',order:'Place order',comment:'üí¨ Comment',search:'üîé Search'}
};

const CATS={
ru:{salads:'ü•ó –°–∞–ª–∞—Ç—ã',kebab:'üî• –®–∞—à–ª—ã–∫',national:'üç≤ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ',grill:'ü•© –ù–∞ –º–∞–Ω–≥–∞–ª–µ',first:'üçú –ü–µ—Ä–≤—ã–µ',drinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏',bread:'ü•ñ –•–ª–µ–±'},
uz:{salads:'ü•ó Salatlar',kebab:'üî• Shashlik',national:'üç≤ Milliy',grill:'ü•© Mangal',first:'üçú Sho‚Äòrva',drinks:'ü•§ Ichimliklar',bread:'ü•ñ Non'},
en:{salads:'ü•ó Salads',kebab:'üî• Kebab',national:'üç≤ National',grill:'ü•© Grill',first:'üçú Soups',drinks:'ü•§ Drinks',bread:'ü•ñ Bread'}
};

const MENU={
salads:[['–°–≤–µ–∂–∏–π',30000],['–ê—á–∏—á—É–∫',30000],['–®–∞–∫–∞—Ä–æ–ø',30000],['–¶–µ–∑–∞—Ä—å',35000],['–•—Ä—É—Å—Ç—è—â–∏–π –±–∞–∫–ª–∞–∂–∞–Ω',45000]],
kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000],['–ö—É—Å–∫–æ–≤–æ–π –±–∞—Ä–∞–Ω–∏–Ω–∞',30000],['–ö–æ—Ä–µ–π–∫–∞',40000],['–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ',22000]],
national:[['–ñ–∏–∑ –ë–∏–∑ 1–∫–≥',260000],['–ñ–∏–∑ –ë–∏–∑ 0.5–∫–≥',130000]],
grill:[['–°—Ç–µ–π–∫ –∫—É—Ä–∏–Ω—ã–π',100000],['–ë–∞—Ä–∞–Ω–∏–Ω–∞ —Å –≥—Ä–∏–±–∞–º–∏ 1–∫–≥',200000]],
first:[['–®—É—Ä–ø–∞',35000],['–ë–æ—Ä—â',25000],['–ú–∞—Å—Ç–∞–≤–∞',25000]],
drinks:[['–ß–∞–π',5000],['Coca-Cola 1L',14000],['Fanta 1.5L',18000]],
bread:[['–õ–µ–ø–µ—à–∫–∞',10000]]
};

function applyLang(){
    btnDelivery.innerText=TEXT[lang].delivery;
    btnPickup.innerText=TEXT[lang].pickup;
    address.placeholder=TEXT[lang].address;
    phone.placeholder=TEXT[lang].phone;
    cartTitle.innerText=TEXT[lang].cart;
    orderBtn.innerText=TEXT[lang].order;
    comment.placeholder=TEXT[lang].comment;
    search.placeholder=TEXT[lang].search;
    renderCats();renderProducts();
}

function setPayment(p){
    payment=p;
    payCash.classList.remove('active');
    payClick.classList.remove('active');
    (p==='cash'?payCash:payClick).classList.add('active');
}

function toggleSearch(){search.style.display=search.style.display==='block'?'none':'block';}
search.oninput=e=>{searchValue=e.target.value.toLowerCase();renderProducts();};

function renderCats(){
    cats.innerHTML='';
    for(let k in CATS[lang]){
        cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[lang][k]}</button>`;
    }
}

function renderProducts(){
    products.innerHTML='';
    MENU[category].filter(i=>i[0].toLowerCase().includes(searchValue)).forEach(([n,p])=>{
        cart[n]=cart[n]||0;
        products.innerHTML+=`
        <div class="card">
            <div class="img">–§–æ—Ç–æ</div>
            <div class="price">${p} —Å—É–º</div>
            <div class="name">${n}</div>
            <div class="counter">
                <button onclick="chg('${n}',-1)">‚àí</button>
                <span>${cart[n]}</span>
                <button onclick="chg('${n}',1)">+</button>
            </div>
        </div>`;
    });
    upd();
}

function chg(n,v){cart[n]=Math.max(0,(cart[n]||0)+v);renderProducts();}
function upd(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function setLang(l){
    lang=l;
    document.querySelectorAll('.langs .btn').forEach(b=>b.classList.remove('active'));
    event.target.classList.add('active');
    applyLang();
}

function setType(t){
    type=t;
    document.querySelectorAll('.types .btn').forEach(b=>b.classList.remove('active'));
    event.target.classList.add('active');
    address.style.display=t==='pickup'?'none':'block';
}

function sendOrder(){
    const order={};
    for(let k in cart) if(cart[k]>0) order[k]=cart[k];

    Telegram.WebApp.sendData(JSON.stringify({
        order,
        phone: phone.value||'‚Äî',
        comment: comment.value||'‚Äî',
        delivery: type,
        address: type==='delivery'?address.value:'–°–∞–º–æ–≤—ã–≤–æ–∑',
        total: total.innerText,
        payment: payment,
        lang
    }));
    Telegram.WebApp.close();
}

applyLang();
</script>

</body>
</html>










