<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{font-family:Arial;background:#f5f5f5;padding:10px;margin:0}
h2,h3{text-align:center}
.lang-btn,.category-btn{
  padding:8px 12px;
  margin:3px;
  border:none;
  border-radius:6px;
  background:#ddd;
  cursor:pointer
}
.lang-btn.active,.category-btn.active{
  background:#0088cc;
  color:#fff
}
.card{background:#fff;border-radius:10px;padding:15px;margin-bottom:10px}
.title{font-weight:bold}
.price{color:green;margin:5px 0}
.controls{display:flex;gap:10px;align-items:center}
.plus{background:#4CAF50;color:white}
.minus{background:#ddd}
.cart{background:#fff;border-radius:10px;padding:15px;margin-top:10px}
.cart-item{display:flex;justify-content:space-between}
.total{text-align:center;font-size:18px;font-weight:bold;margin-top:10px}
input,select{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ccc}
.order-btn{width:100%;background:#0088cc;color:white;font-size:18px;padding:12px;margin-top:10px}
</style>
</head>

<body>

<h2 id="title">üçΩ Radj Shashlik</h2>

<!-- üåê –Ø–ó–´–ö -->
<div style="text-align:center">
  <button class="lang-btn active" onclick="setLang('ru',this)">üá∑üá∫ RU</button>
  <button class="lang-btn" onclick="setLang('uz',this)">üá∫üáø UZ</button>
  <button class="lang-btn" onclick="setLang('en',this)">üá¨üáß EN</button>
</div>

<!-- –ö–ê–¢–ï–ì–û–†–ò–ò -->
<div style="text-align:center;margin-top:10px" id="categories"></div>

<!-- –ú–ï–ù–Æ -->
<div id="menu"></div>

<!-- –ö–û–†–ó–ò–ù–ê -->
<div class="cart">
<h3 id="cart-title">üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
<div id="cart-items">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
<div class="total">üí∞ <span id="total-label">–ò—Ç–æ–≥–æ</span>: <span id="total">0</span> —Å—É–º</div>
</div>

<!-- –î–û–°–¢–ê–í–ö–ê -->
<select id="delivery" onchange="toggleAddress()">
  <option value="delivery">üöö –î–æ—Å—Ç–∞–≤–∫–∞</option>
  <option value="pickup">üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑</option>
</select>

<input type="text" id="address" placeholder="üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏">
<input type="tel" id="phone" placeholder="üì± –¢–µ–ª–µ—Ñ–æ–Ω">

<button class="order-btn" id="order-btn" onclick="sendOrder()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

<script>
Telegram.WebApp.ready();

let lang='ru';
let currentCategory='–®–∞—à–ª—ã–∫';
const cart={};

const texts={
 ru:{
  cart:"üõí –ö–æ—Ä–∑–∏–Ω–∞", empty:"–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞",
  total:"–ò—Ç–æ–≥–æ", order:"‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
 },
 uz:{
  cart:"üõí Savat", empty:"Savat bo‚Äòsh",
  total:"Jami", order:"‚úÖ Buyurtma berish"
 },
 en:{
  cart:"üõí Cart", empty:"Cart is empty",
  total:"Total", order:"‚úÖ Place order"
 }
};

const menuData={
 "–®–∞—à–ª—ã–∫":[["–®–∞—à–ª—ã–∫ –∫—É—Ä–∏–Ω—ã–π",45000],["–®–∞—à–ª—ã–∫ –≥–æ–≤—è–∂–∏–π",60000]],
 "–ü–µ—Ä–≤—ã–µ –±–ª—é–¥–∞":[["–®—É—Ä–ø–∞",35000]],
 "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª—é–¥–∞":[["–ü–ª–æ–≤",50000]],
 "–°–∞–ª–∞—Ç—ã":[["–û–ª–∏–≤—å–µ",30000]],
 "–ù–∞–ø–∏—Ç–∫–∏":[["–ö–æ–ª–∞ 1–ª",15000]],
 "–•–ª–µ–±":[["–õ–µ–ø—ë—à–∫–∞",5000]]
};

function setLang(l,btn){
 lang=l;
 document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 document.getElementById('cart-title').innerText=texts[lang].cart;
 document.getElementById('total-label').innerText=texts[lang].total;
 document.getElementById('order-btn').innerText=texts[lang].order;
 renderCart();
}

function renderCategories(){
 const div=document.getElementById("categories");
 div.innerHTML="";
 for(let c in menuData){
  div.innerHTML+=`<button class="category-btn ${c===currentCategory?'active':''}" onclick="selectCategory('${c}',this)">${c}</button>`;
 }
}

function selectCategory(cat,btn){
 currentCategory=cat;
 document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 renderMenu();
}

function renderMenu(){
 const menu=document.getElementById("menu");
 menu.innerHTML="";
 menuData[currentCategory].forEach(i=>{
  cart[i[0]]=cart[i[0]]||0;
  menu.innerHTML+=`
   <div class="card">
    <div class="title">${i[0]}</div>
    <div class="price">${i[1]} —Å—É–º</div>
    <div class="controls">
     <button class="minus" onclick="change('${i[0]}',-1)">‚àí</button>
     <span>${cart[i[0]]}</span>
     <button class="plus" onclick="change('${i[0]}',1)">+</button>
    </div>
   </div>`;
 });
}

function change(n,d){
 cart[n]+=d;
 if(cart[n]<0)cart[n]=0;
 renderMenu();
 renderCart();
}

function renderCart(){
 const div=document.getElementById("cart-items");
 div.innerHTML="";
 let total=0,empty=true;
 for(let i in cart){
  if(cart[i]>0){
   empty=false;
   const p=findPrice(i);
   total+=cart[i]*p;
   div.innerHTML+=`<div class="cart-item"><span>${i} √ó ${cart[i]}</span><span>${cart[i]*p} —Å—É–º</span></div>`;
  }
 }
 if(empty)div.innerText=texts[lang].empty;
 document.getElementById("total").innerText=total;
}

function findPrice(n){
 for(let c in menuData)for(let i of menuData[c])if(i[0]==n)return i[1];
 return 0;
}

function toggleAddress(){
 address.style.display=delivery.value==="delivery"?"block":"none";
}

function sendOrder(){
 const phone=document.getElementById("phone").value.trim();
 if(!phone)return alert("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω");
 Telegram.WebApp.sendData(JSON.stringify({
  order:cart,
  total:Number(document.getElementById("total").innerText),
  phone,
  delivery:delivery.value,
  address:address.value
 }));
 Telegram.WebApp.close();
}

renderCategories();
renderMenu();
</script>

</body>
</html>




