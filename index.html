<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://telegram.org"></script>

<style>
body{font-family:Arial;background:#f5f5f5;padding:10px;margin:0}
h2,h3{text-align:center}
.lang-btn,.category-btn{padding:8px 12px;margin:3px;border:none;border-radius:6px;background:#ddd;cursor:pointer}
.lang-btn.active,.category-btn.active{background:#0088cc;color:#fff}
.card{background:#fff;border-radius:10px;padding:15px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.price{color:green;margin:5px 0;font-weight:bold}
.controls{display:flex;gap:10px;align-items:center}
button{padding:5px 12px;border-radius:6px;border:none;cursor:pointer}
.plus{background:#4CAF50;color:white}
.minus{background:#ddd}
.cart{background:#fff;border-radius:10px;padding:15px;margin-top:10px}
.cart-item{display:flex;justify-content:space-between;margin-bottom:5px}
.total{text-align:center;font-size:18px;font-weight:bold;margin-top:10px}
input,select{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box}
.order-btn{width:100%;background:#0088cc;color:white;font-size:18px;padding:12px;margin-top:10px;border:none;border-radius:6px;cursor:pointer}
</style>
</head>

<body>

<h2 id="title">ğŸ½ Radj Shashlik</h2>

<div style="text-align:center">
  <button class="lang-btn active" onclick="setLang('ru',this)">ğŸ‡·ğŸ‡º RU</button>
  <button class="lang-btn" onclick="setLang('uz',this)">ğŸ‡ºğŸ‡¿ UZ</button>
  <button class="lang-btn" onclick="setLang('en',this)">ğŸ‡¬ğŸ‡§ EN</button>
</div>

<div style="text-align:center;margin-top:10px" id="categories"></div>
<div id="menu"></div>

<div class="cart">
<h3 id="cart-title">ğŸ›’ ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°</h3>
<div id="cart-items"></div>
<div class="total">ğŸ’° <span id="total-label">Ğ˜Ñ‚Ğ¾Ğ³Ğ¾</span>: <span id="total">0</span> <span id="valute">ÑÑƒĞ¼</span></div>
</div>

<select id="delivery" onchange="toggleAddress()">
  <option value="delivery" id="opt-del">ğŸšš Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°</option>
  <option value="pickup" id="opt-pick">ğŸƒ Ğ¡Ğ°Ğ¼Ğ¾Ğ²Ñ‹Ğ²Ğ¾Ğ·</option>
</select>

<input type="text" id="address" placeholder="ğŸ“ ĞĞ´Ñ€ĞµÑ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸">
<input type="tel" id="phone" placeholder="ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½">

<button class="order-btn" id="order-btn" onclick="sendOrder()">âœ… ĞÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·</button>

<script>
Telegram.WebApp.ready();

let lang='ru';
let currentCatId='salad';
const cart={};

const translations={
 ru:{
  cart:"ğŸ›’ ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°", empty:"ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ° Ğ¿ÑƒÑÑ‚Ğ°", total:"Ğ˜Ñ‚Ğ¾Ğ³Ğ¾", order:"âœ… ĞÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·", 
  valute:"ÑÑƒĞ¼", del:"ğŸšš Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°", pick:"ğŸƒ Ğ¡Ğ°Ğ¼Ğ¾Ğ²Ñ‹Ğ²Ğ¾Ğ·", addr:"ğŸ“ ĞĞ´Ñ€ĞµÑ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸",
  cats:{salad:"Ğ¡Ğ°Ğ»Ğ°Ñ‚Ñ‹", national:"ĞĞ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ±Ğ»ÑĞ´Ğ°", shashlik:"Ğ¨Ğ°ÑˆĞ»Ñ‹Ğº/ĞœÑÑĞ½Ñ‹Ğµ Ğ±Ğ»ÑĞ´Ğ°", soup:"Ğ¡ÑƒĞ¿Ñ‹", grill:"Ğ‘Ğ»ÑĞ´Ğ° Ğ½Ğ° Ğ¼Ğ°Ğ½Ğ³Ğ°Ğ»Ğµ", drink:"ĞĞ°Ğ¿Ğ¸Ñ‚ĞºĞ¸", bread:"Ğ¥Ğ»ĞµĞ±"},
  items:{
    achichuk:"ĞÑ‡Ğ¸Ñ‡ÑƒĞº", shakarop:"Ğ¨Ğ°ĞºĞ°Ñ€Ğ¾Ğ¿", chirokchi:"Ğ§Ğ¸Ñ€Ğ¾ĞºÑ‡Ğ¸", greek:"Ğ“Ñ€ĞµÑ‡ĞµÑĞºĞ¸Ğ¹", majnuntol:"ĞœĞ°Ğ¶Ğ½ÑƒĞ½Ñ‚Ğ¾Ğ»", m_caprice:"ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹ ĞºĞ°Ğ¿Ñ€Ğ¸Ğ·", d_caprice:"Ğ”Ğ°Ğ¼ÑĞºĞ¸Ğ¹ ĞºĞ°Ğ¿Ñ€Ğ¸Ğ·", 
    olivye:"ĞĞ»Ğ¸Ğ²ÑŒĞµ", french:"Ğ¤Ñ€Ğ°Ğ½Ñ†ÑƒĞ·ÑĞºĞ¸Ğ¹", smak:"Ğ¡Ğ¼Ğ°Ğº", caesar:"Ğ¦ĞµĞ·Ğ°Ñ€ÑŒ", b_eggplant:"Ğ¥Ñ€ÑƒÑÑ‚ÑÑ‰Ğ¸Ğ¹ Ğ±Ğ°ĞºĞ»Ğ°Ğ¶Ğ°Ğ½", fresh:"Ğ¡Ğ²ĞµĞ¶Ğ¸Ğ¹",
    molotiy:"ĞœĞ¾Ğ»Ğ¾Ñ‚Ñ‹Ğ¹", molotiy_mix:"ĞœĞ¾Ğ»Ğ¾Ñ‚Ñ‹Ğ¹ Ğ¼Ğ¸ĞºÑ", lamb_chunk:"ĞšÑƒÑĞºĞ¾Ğ²Ğ¾Ğ¹ Ğ±Ğ°Ñ€Ğ°Ğ½Ğ¸Ğ½Ğ°", rulet:"Ğ ÑƒĞ»ĞµÑ‚", napoleon:"ĞĞ°Ğ¿Ğ¾Ğ»ĞµĞ¾Ğ½", koreyka:"ĞšĞ¾Ñ€ĞµĞ¹ĞºĞ°", bykin:"Ğ‘Ñ‹ĞºĞ¸Ğ½", ribs:"Ğ ĞµĞ±Ñ€Ñ‹ÑˆĞºĞ¸ (ÑĞµĞ¼ĞµÑ‡ĞºĞ¸)",
    liver:"ĞŸĞµÑ‡ĞµĞ½ÑŒ", kurdyuk:"ĞšÑƒÑ€Ğ´ÑĞº", beef_tender:"Ğ“Ğ¾Ğ²ÑĞ¶ÑŒÑ Ğ²Ñ‹Ñ€ĞµĞ·ĞºĞ°", chk_fillet:"ĞšÑƒÑ€Ğ¸Ğ½Ğ¾Ğµ Ñ„Ğ¸Ğ»Ğµ", chk_wings:"ĞšÑƒÑ€Ğ¸Ğ½Ñ‹Ğµ ĞºÑ€Ñ‹Ğ»Ñ‹ÑˆĞºĞ¸", 
    bomb:"Ğ‘Ğ¾Ğ¼Ğ±Ğ¾Ñ‡ĞºĞ°", chk_chop:"Ğ“Ğ¾Ñ€ÑĞ´Ğ¸Ğ½Ğ° Ğ¾Ñ‚Ğ±Ğ¸Ğ²Ğ½Ğ°Ñ", kotlety:"ĞšĞ¾Ñ‚Ğ»ĞµÑ‚Ñ‹ 1 ÑˆÑ‚", cheburek:"Ğ§ĞµĞ±ÑƒÑ€ĞµĞº Ğ½Ğ° Ğ¼Ğ°Ğ½Ğ³Ğ°Ğ»Ğµ", sausage_spicy:"ĞšĞ¾Ğ»Ğ±Ğ°ÑĞºĞ¸ Ğ¾ÑÑ‚Ñ€Ñ‹Ğµ 1 ÑˆÑ‚", veg_mix:"ĞĞ²Ğ¾Ñ‰Ğ½Ğ¾Ğ¹ Ğ¼Ğ¸ĞºÑ", sausage_milk:"ĞšĞ¾Ğ»Ğ±Ğ°ÑĞºĞ¸ Ğ¼Ğ¾Ğ»Ğ¾Ñ‡Ğ½Ñ‹Ğµ 1 ÑˆÑ‚", mushrooms:"Ğ“Ñ€Ğ¸Ğ±Ñ‹ ÑˆĞ°Ğ¼Ğ¿Ğ¸Ğ½ÑŒĞ¾Ğ½Ñ‹",
    zb_l1kg:"Ğ–Ğ¸Ğ· Ğ‘Ğ¸Ğ· Ğ‘Ğ°Ñ€Ğ°Ğ½Ğ¸Ğ½Ğ° 1 ĞºĞ³", zb_l05kg:"Ğ–Ğ¸Ğ· Ğ‘Ğ¸Ğ· Ğ‘Ğ°Ñ€Ğ°Ğ½Ğ¸Ğ½Ğ° 0.5ĞºĞ³", zb_bt1kg:"Ğ–Ğ¸Ğ· Ğ‘Ğ¸Ğ· Ğ¸Ğ· Ğ²Ñ‹Ñ€ĞµĞ·ĞºĞ¸ 1 ĞºĞ³", zb_bt05kg:"Ğ–Ğ¸Ğ· Ğ‘Ğ¸Ğ· Ğ¸Ğ· Ğ²Ñ‹Ñ€ĞµĞ·ĞºĞ¸ 0.5ĞºĞ³", chk_steak:"Ğ¡Ñ‚ĞµĞ¹Ğº ĞšÑƒÑ€Ğ¸Ğ½Ğ½Ñ‹Ğ¹", tbone_steak:"Ğ¡Ñ‚ĞµĞ¹Ğº Ğ¢Ğ¸Ğ±Ğ¾Ğ½ 100Ğ³Ñ€", wagyu_steak:"Ğ¡Ñ‚ĞµĞ¹Ğº Ğ’Ğ°Ğ³ÑƒÑ€Ğ¸", 
    lamb_mush05kg:"Ğ‘Ğ°Ñ€Ğ°Ğ½Ğ¸Ğ½Ğ° Ñ Ğ³Ñ€Ğ¸Ğ±Ğ°Ğ¼Ğ¸ 0.5ĞºĞ³", lamb_mush1kg:"Ğ‘Ğ°Ñ€Ğ°Ğ½Ğ¸Ğ½Ğ° Ñ Ğ³Ñ€Ğ¸Ğ±Ğ°Ğ¼Ğ¸ 1 ĞºĞ³", bt_veg05kg:"Ğ“Ğ¾Ğ²ÑĞ¶ÑŒÑ Ğ²Ñ‹Ñ€ĞµĞ·ĞºĞ° Ñ Ğ¾Ğ²Ğ¾Ñ‰Ğ°Ğ¼Ğ¸ 0.5ĞºĞ³", bt_veg1kg:"Ğ“Ğ¾Ğ²ÑĞ¶ÑŒÑ Ğ²Ñ‹Ñ€ĞµĞ·ĞºĞ° Ñ Ğ¾Ğ²Ğ¾Ñ‰Ğ°Ğ¼Ğ¸ 1 ĞºĞ³",
    shurpa:"Ğ¨ÑƒÑ€Ğ¿Ğ°", shchi_green:"Ğ©Ğ¸ Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğµ", borshch:"Ğ‘Ğ¾Ñ€Ñ‰ ÑĞ¾ ÑĞ¼ĞµÑ‚Ğ°Ğ½Ğ¾Ğ¹", guja:"Ğ“ÑƒĞ¶Ğ°", mastava:"ĞœĞ°ÑÑ‚Ğ°Ğ²Ğ°",
    chk_gr_tea:"Ğ§Ğ°Ğ¹ Ğ§ĞµÑ€Ğ½Ñ‹Ğ¹/Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹", tea_lemon:"Ğ§Ğ°Ğ¹ Ñ Ğ»Ğ¸Ğ¼Ğ¾Ğ½Ğ¾Ğ¼", fanta1l:"Fanta 1L", fanta15l:"Fanta 1.5L", cola1l:"Coca Cola 1L", cola15l:"Coca Cola 1.5L", juice:"Ğ¡Ğ¾Ğº Ğ¡Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ”Ğ¾Ğ»Ğ¸Ğ½Ğ° Ğ² Ğ°ÑÑ-Ñ‚Ğµ 1L", 
    pepsi1l:"Pepsi 1L", pepsi15l:"Pepsi 1.5L", water_min:"ĞœĞ¸Ğ½ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²Ğ¾Ğ´Ğ° Chortoq 0.5L", water_still1l:"Ğ’Ğ¾Ğ´Ğ° Ğ±ĞµĞ· Ğ³Ğ°Ğ·Ğ° Chortoq 1L", water_still15l:"Ğ’Ğ¾Ğ´Ğ° Ğ±ĞµĞ· Ğ³Ğ°Ğ·Ğ° Chortoq 1.5L", 
    tarhun:"Ğ›Ğ¸Ğ¼Ğ¾Ğ½Ğ°Ğ´ Ğ¢Ğ°Ñ€Ñ…ÑƒĞ½ 0.5L", duches:"Ğ›Ğ¸Ğ¼Ğ¾Ğ½Ğ°Ğ´ Ğ”ÑÑˆĞµÑ 0.5L", energy:"Ğ­Ğ½ĞµÑ€Ğ³ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ½Ğ°Ğ¿Ğ¸Ñ‚Ğ¾Ğº Saber 0.5L",
    bread_l:"Ğ›ĞµĞ¿ĞµÑˆĞºĞ° Ğ§Ğ°Ğ¿ Ñ‡Ğ°Ğº 1 ÑˆÑ‚", tomatoes:"ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ 3ÑˆÑ‚", potatoes:"ĞšĞ°Ñ€Ñ‚Ğ¾Ñ„ĞµĞ»ÑŒ 3ÑˆÑ‚"
  }
 },
 uz:{
  cart:"ğŸ›’ Savat", empty:"Savat boâ€˜sh", total:"Jami", order:"âœ… Buyurtma berish", 
  valute:"so'm", del:"ğŸšš Yetkazib berish", pick:"ğŸƒ Olib ketish", addr:"ğŸ“ Manzil",
  cats:{salad:"Salatlar", national:"Milliy taomlar", shashlik:"Kabob/Go'shtli taomlar", soup:"Sho'rvalar", grill:"Mangalda pishirilgan taomlar", drink:"Ichimliklar", bread:"Non"},
  items:{
    achichuk:"Achchiq-chuchuk", shakarop:"Shakarob", chirokchi:"Chiroqchi", greek:"Gretsiya salati", majnuntol:"Majnuntol", m_caprice:"Erkaklar injiqligi", d_caprice:"Ayollar injiqligi", 
    olivye:"Olyvye", french:"Fransuzcha", smak:"Smak", caesar:"Sezar", b_eggplant:"Qarsildoq baqlajon", fresh:"Yangi",
    molotiy:"Molotiy", molotiy_mix:"Molotiy miks", lamb_chunk:"Qo'zichoq go'shti", rulet:"Rulet", napoleon:"Napoleon", koreyka:"Koreyka", bykin:"Bykin", ribs:"Qovurg'alar",
    liver:"Jigar", kurdyuk:"Quyruq yog'i", beef_tender:"Mol go'shti", chk_fillet:"Tovuq filesi", chk_wings:"Tovuq qanotlari", 
    bomb:"Bombochka", chk_chop:"Tovuq otbivnoy", kotlety:"Kotlet 1 dona", cheburek:"Mangalda cheburek", sausage_spicy:"Achchiq kolbasa 1 dona", veg_mix:"Sabzavotli miks", sausage_milk:"Sutli kolbasa 1 dona", mushrooms:"Qo'ziqorinlar",
    zb_l1kg:"Jiz Biz Qo'zi 1 kg", zb_l05kg:"Jiz Biz Qo'zi 0.5kg", zb_bt1kg:"Jiz Biz Mol go'shti 1 kg", zb_bt05kg:"Jiz Biz Mol go'shti 0.5kg", chk_steak:"Tovuq steyk", tbone_steak:"T-bone steyk 100gr", wagyu_steak:"Wagyu steyk", 
    lamb_mush05kg:"Qo'ziqorinli qo'zi go'shti 0.5kg", lamb_mush1kg:"Qo'ziqorinli qo'zi go'shti 1 kg", bt_veg05kg:"Sabzavotli mol go'shti 0.5kg", bt_veg1kg:"Sabzavotli mol go'shti 1 kg",
    shurpa:"Sho'rva", shchi_green:"Yashil shchi", borshch:"Smetanali borshch", guja:"Go'ja", mastava:"Mastava",
    chk_gr_tea:"Choy Qora/ko'k", tea_lemon:"Limonli choy", fanta1l:"Fanta 1L", fanta15l:"Fanta 1.5L", cola1l:"Coca Cola 1L", cola15l:"Coca Cola 1.5L", juice:"Sharbat assorti 1L", 
    pepsi1l:"Pepsi 1L", pepsi15l:"Pepsi 1.5L", water_min:"Mineral suv Chortoq 0.5L", water_still1l:"Gazsiz suv Chortoq 1L", water_still15l:"Gazsiz suv Chortoq 1.5L", 
    tarhun:"Tarxun limonadi 0.5L", duches:"Dyushes limonadi 0.5L", energy:"Energetik Saber 0.5L",
    bread_l:"Chap chak non 1 dona", tomatoes:"Pomidor 3 dona", potatoes:"Kartoshka 3 dona"
  }
 },
 en:{
  cart:"ğŸ›’ Cart", empty:"Cart is empty", total:"Total", order:"âœ… Place order", 
  valute:"sum", del:"ğŸšš Delivery", pick:"ğŸƒ Pickup", addr:"ğŸ“ Delivery address",
  cats:{salad:"Salads", national:"National dishes", shashlik:"Shashlik/Meat dishes", soup:"Soups", grill:"Grilled dishes", drink:"Drinks", bread:"Bread"},
  items:{
    achichuk:"Achichuk salad", shakarop:"Shakarop salad", chirokchi:"Chirokchi", greek:"Greek salad", majnuntol:"Majnuntol", m_caprice:"Men's caprice", d_caprice:"Ladies' caprice", 
    olivye:"Olivier salad", french:"French salad", smak:"Smak salad", caesar:"Caesar salad", b_eggplant:"Crispy eggplant", fresh:"Fresh",
    molotiy:"Minced meat shashlik", molotiy_mix:"Minced meat mix shashlik", lamb_chunk:"Lamb chunk shashlik", rulet:"Rulet", napoleon:"Napoleon", koreyka:"Loin shashlik", bykin:"Bykin shashlik", ribs:"Ribs (seeds)",
    liver:"Liver shashlik", kurdyuk:"Fatty tail fat", beef_tender:"Beef tenderloin shashlik", chk_fillet:"Chicken fillet shashlik", chk_wings:"Chicken wings shashlik", 
    bomb:"Bombochka (dish)", chk_chop:"Chicken chop", kotlety:"Cutlet 1 pc", cheburek:"Cheburek on grill", sausage_spicy:"Spicy sausage 1 pc", veg_mix:"Vegetable mix", sausage_milk:"Milk sausage 1 pc", mushrooms:"Mushrooms",
    zb_l1kg:"Jiz Biz Lamb 1 kg", zb_l05kg:"Jiz Biz Lamb 0.5kg", zb_bt1kg:"Jiz Biz Beef 1 kg", zb_bt05kg:"Jiz Biz Beef 0.5kg", chk_steak:"Chicken steak", tbone_steak:"T-bone steak 100gr", wagyu_steak:"Wagyu steak", 
    lamb_mush05kg:"Lamb with mushrooms 0.5kg", lamb_mush1kg:"Lamb with mushrooms 1 kg", bt_veg05kg:"Beef with vegetables 0.5kg", bt_veg1kg:"Beef with vegetables 1 kg",
    shurpa:"Shurpa soup", shchi_green:"Green shchi", borshch:"Borshch with sour cream", guja:"Guja soup", mastava:"Mastava soup",
    chk_gr_tea:"Tea Black/green", tea_lemon:"Tea with lemon", fanta1l:"Fanta 1L", fanta15l:"Fanta 1.5L", cola1l:"Coca Cola 1L", cola15l:"Coca Cola 1.5L", juice:"Juice assortment 1L", 
    pepsi1l:"Pepsi 1L", pepsi15l:"Pepsi 1.5L", water_min:"Mineral water Chortoq 0.5L", water_still1l:"Still water Chortoq 1L", water_still15l:"Still water Chortoq 1.5L", 
    tarhun:"Tarhun lemonade 0.5L", duches:"Duches lemonade 0.5L", energy:"Energy drink Saber 0.5L",
    bread_l:"Chap chak flatbread 1 pc", tomatoes:"Tomatoes 3pcs", potatoes:"Potatoes 3pcs"
  }
};

const menuData={
 salad:[{id:"achichuk",p:30000},{id:"shakarop",p:30000},{id:"chirokchi",p:30000},{id:"fresh",p:30000},{id:"greek",p:40000},{id:"majnuntol",p:30000},{id:"m_caprice",p:35000},{id:"d_caprice",p:35000},{id:"olivye",p:30000},{id:"french",p:35000},{id:"smak",p:35000},{id:"caesar",p:35000},{id:"b_eggplant",p:45000},{id:"veg_mix",p:15000}],
 national:[{id:"zb_l1kg",p:260000},{id:"zb_l05kg",p:130000},{id:"zb_bt1kg",p:300000},{id:"zb_bt05kg",p:150000}],
 shashlik:[{id:"molotiy",p:28000},{id:"molotiy_mix",p:30000},{id:"lamb_chunk",p:30000},{id:"rulet",p:30000},{id:"napoleon",p:30000},{id:"koreyka",p:40000},{id:"bykin",p:40000},{id:"ribs",p:30000},{id:"liver",p:22000},{id:"kurdyuk",p:30000},{id:"beef_tender",p:30000},{id:"chk_fillet",p:22000},{id:"chk_wings",p:22000},{id:"bomb",p:30000},{id:"chk_chop",p:35000},{id:"kotlety",p:30000},{id:"chk_steak",p:100000},{id:"tbone_steak",p:20000},{id:"wagyu_steak",p:200000}],
 soup:[{id:"shurpa",p:35000},{id:"shchi_green",p:25000},{id:"borshch",p:25000},{id:"guja",p:25000},{id:"mastava",p:25000}],
 grill:[{id:"cheburek",p:30000},{id:"sausage_spicy",p:17000},{id:"sausage_milk",p:17000},{id:"mushrooms",p:15000}],
 drink:[{id:"chk_gr_tea",p:5000},{id:"tea_lemon",p:15000},{id:"fanta1l",p:14000},{id:"fanta15l",p:18000},{id:"cola1l",p:14000},{id:"cola15l",p:18000},{id:"juice",p:20000},{id:"pepsi1l",p:14000},{id:"pepsi15l",p:18000},{id:"water_min",p:15000},{id:"water_still1l",p:6000},{id:"water_still15l",p:8000},{id:"tarhun",p:12000},{id:"duches",p:12000},{id:"energy",p:15000}],
 bread:[{id:"bread_l",p:10000},{id:"tomatoes",p:12000},{id:"potatoes",p:10000}]
};

function setLang(l,btn){
 lang=l;
 document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 
 const t=translations[lang];
 document.getElementById('cart-title').innerText=t.cart;
 document.getElementById('total-label').innerText=t.total;
 document.getElementById('order-btn').innerText=t.order;
 document.getElementById('valute').innerText=t.valute;
 document.getElementById('opt-del').innerText=t.del;
 document.getElementById('opt-pick').innerText=t.pick;
 document.getElementById('address').placeholder=t.addr;
 
 renderCategories();
 renderMenu();
 renderCart();
}

function renderCategories(){
 const div=document.getElementById("categories");
 div.innerHTML="";
 for(let catId in menuData){
  const btn=document.createElement('button');
  btn.className=`category-btn ${catId===currentCatId?'active':''}`;
  btn.innerText=translations[lang].cats[catId];
  btn.onclick=()=>{ currentCatId=catId; renderCategories(); renderMenu(); };
  div.appendChild(btn);
 }
}

function renderMenu(){
 const menu=document.getElementById("menu");
 menu.innerHTML="";
 menuData[currentCatId].forEach(item=>{
  cart[item.id]=cart[item.id]||0;
  menu.innerHTML+=`
   <div class="card">
    <div>
     <div class="title">${translations[lang].items[item.id] || item.id}</div>
     <div class="price">${item.p} ${translations[lang].valute}</div>
    </div>
    <div class="controls">
     <button class="minus" onclick="change('${item.id}',-1)">âˆ’</button>
     <span>${cart[item.id]}</span>
     <button class="plus" onclick="change('${item.id}',1)">+</button>
    </div>
   </div>`;
 });
}

function change(id,d){
 cart[id]+=d;
 if(cart[id]<0)cart[id]=0;
 renderMenu();
 renderCart();
}

function renderCart(){
 const div=document.getElementById("cart-items");
 div.innerHTML="";
 let total=0,empty=true;
 for(let id in cart){
  if(cart[id]>0){
   empty=false;
   const price=findPrice(id);
   total+=cart[id]*price;
   div.innerHTML+=`<div class="cart-item"><span>${translations[lang].items[id] || id} Ã— ${cart[id]}</span><span>${cart[id]*price}</span></div>`;
  }
 }
 if(empty)div.innerText=translations[lang].empty;
 document.getElementById("total").innerText=total;
}

function findPrice(id){
 for(let c in menuData)for(let i of menuData[c])if(i.id==id)return i.p;
 return 0;
}

function toggleAddress(){
 document.getElementById('address').style.display=document.getElementById('delivery').value==="delivery"?"block":"none";
}

function sendOrder(){
 const phone=document.getElementById("phone").value.trim();
 if(!phone)return alert(lang==='ru'?"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½":lang==='uz'?"Telefonni kiriting":"Enter phone");
 
 const orderSummary = {};
 for(let id in cart) if(cart[id]>0) orderSummary[translations[lang].items[id] || id] = cart[id];

 Telegram.WebApp.sendData(JSON.stringify({
  order:orderSummary,
  total:document.getElementById("total").innerText,
  phone,
  address:document.getElementById("address").value
 }));
 Telegram.WebApp.close();
}

setLang('ru', document.querySelector('.lang-btn'));
</script>

</body>
</html>





