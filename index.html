<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Radj Shashlik</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&display=swap" rel="stylesheet">

<style>
:root{
    --blue:#4a90e2;
    --green:#2e7d32;
    --bg:#f2f4f7;
}

body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
    background:linear-gradient(180deg,#eef2f7,#f7f9fc);
    color:#1c1c1e;
}

/* HEADER */
.header{
    padding:16px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    box-shadow:0 6px 20px rgba(0,0,0,.12);
}
.logo-wrap{display:flex;align-items:center;gap:12px;}
.header img{max-width:110px;}
.header-title{
    font-family:'Montserrat',sans-serif;
    font-size:30px;
    font-weight:900;
}
.search-btn{
    width:38px;height:38px;
    border-radius:50%;
    border:none;
    background:rgba(255,255,255,.25);
    color:#fff;
    font-size:18px;
}

/* SEARCH */
.search-input{
    display:none;
    margin:10px;
    padding:14px;
    width:calc(100% - 20px);
    border-radius:18px;
    border:none;
    box-shadow:0 6px 20px rgba(0,0,0,.08);
}

/* BUTTONS */
.langs,.types,.categories,.payments{
    display:flex;
    gap:10px;
    padding:10px;
    overflow-x:auto;
}
.btn{
    padding:10px 18px;
    border-radius:22px;
    background:#fff;
    border:1px solid #e1e5ea;
    font-size:14px;
    font-weight:600;
}
.btn.active{
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    border:none;
}

/* INPUTS */
.input,textarea{
    margin:10px;
    padding:14px;
    width:calc(100% - 20px);
    border-radius:18px;
    border:none;
    font-size:14px;
    background:#fff;
}
textarea{resize:none;}

/* PRODUCTS */
.products{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:14px;
    padding:12px;
}
.card{
    background:#fff;
    border-radius:20px;
    padding:12px;
    text-align:center;
    box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.img{
    height:110px;
    border-radius:16px;
    background:#f0f2f5;
    overflow:hidden;
}
.img img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
}
.price{margin-top:8px;font-weight:800;color:var(--green);}
.name{font-size:14px;margin-top:6px;}

/* COUNTER */
.counter{
    display:flex;
    justify-content:center;
    gap:12px;
    margin-top:8px;
}
.counter span{font-weight:800;}
.counter button{
    width:32px;height:32px;
    border-radius:50%;
    border:none;
    font-size:18px;
}

/* CART */
.cart{
    background:#fff;
    margin:12px;
    padding:16px;
    border-radius:22px;
}
.order-btn{
    width:100%;
    padding:16px;
    margin-top:14px;
    border:none;
    border-radius:20px;
    background:linear-gradient(135deg,#4a90e2,#6fb1ff);
    color:#fff;
    font-size:16px;
    font-weight:800;
}
</style>
</head>

<body>

<div class="header">
    <div class="logo-wrap">
        <img src="logo.png">
        <div class="header-title">Radj Shashlik</div>
    </div>
    <button class="search-btn" onclick="toggleSearch()">üîç</button>
</div>

<input id="search" class="search-input">

<div class="langs">
    <button class="btn active" onclick="setLang('ru',this)">RU</button>
    <button class="btn" onclick="setLang('uz',this)">UZ</button>
    <button class="btn" onclick="setLang('en',this)">EN</button>
</div>

<div class="types">
    <button class="btn active" onclick="setType('delivery',this)" id="btnDelivery"></button>
    <button class="btn" onclick="setType('pickup',this)" id="btnPickup"></button>
</div>

<input id="address" class="input">
<input id="phone" class="input">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
    <b id="cartTitle"></b>: <span id="total">0</span> —Å—É–º
    <textarea id="comment" rows="3"></textarea>

    <div class="payments">
        <button class="btn active" onclick="setPayment('cash')" id="payCash">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</button>
        <button class="btn" onclick="setPayment('click')" id="payClick">üí≥ CLICK</button>
    </div>

    <button class="order-btn" onclick="sendOrder()" id="orderBtn"></button>
</div>

<script>
Telegram.WebApp.ready();

let lang='ru',category='salads',type='delivery',cart={},searchValue='';
let payment='cash';

const TEXT={
ru:{delivery:'üöö –î–æ—Å—Ç–∞–≤–∫–∞',pickup:'üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑',address:'üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏',phone:'üìû –¢–µ–ª–µ—Ñ–æ–Ω',cart:'üõí –ö–æ—Ä–∑–∏–Ω–∞',order:'–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑',comment:'üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É',search:'üîé –ü–æ–∏—Å–∫ –±–ª—é–¥'},
uz:{delivery:'üöö Yetkazib berish',pickup:'üèÉ Olib ketish',address:'üìç Manzil',phone:'üìû Telefon',cart:'üõí Savat',order:'Buyurtma berish',comment:'üí¨ Izoh',search:'üîé Qidirish'},
en:{delivery:'üöö Delivery',pickup:'üèÉ Pickup',address:'üìç Address',phone:'üìû Phone',cart:'üõí Cart',order:'Place order',comment:'üí¨ Comment',search:'üîé Search'}
};

const CATS={
ru:{salads:'ü•ó –°–∞–ª–∞—Ç—ã',kebab:'üî• –®–∞—à–ª—ã–∫',national:'üç≤ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª—é–¥–∞',grill:'ü•© –ë–ª—é–¥–∞ –Ω–∞ –º–∞–Ω–≥–∞–ª–µ',first:'üçú –ü–µ—Ä–≤—ã–µ –±–ª—é–¥–∞',drinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏',bread:'ü•ñ –•–ª–µ–±'},
uz:{salads:'ü•ó Salatlar',kebab:'üî• Shashlik',national:'üç≤ Milliy taomlar',grill:'ü•© Mangal taomlari',first:'üçú Birinchi taomlar',drinks:'ü•§ Ichimliklar',bread:'ü•ñ Non'},
en:{salads:'ü•ó Salads',kebab:'üî• Kebab',national:'üç≤ National dishes',grill:'ü•© Grill dishes',first:'üçú First dishes',drinks:'ü•§ Drinks',bread:'ü•ñ Bread'}
};

const MENU={
salads:[
    ['–°–≤–µ–∂–∏–π',30000,'images/svejiy.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–ê—á–∏—á—É–∫¬ª',30000,'images/achichuk.png'],
    ['–°–∞–ª–∞—Ç ¬´–®–∞–∫–∞—Ä–æ–ø¬ª',30000,'images/shakarop.png'],
    ['–°–∞–ª–∞—Ç ¬´–ß–∏—Ä–æ–∫—á–∏¬ª',30000,'images/chirokchi.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–ú—è—Å–Ω–æ–π¬ª',35000,'images/myasnoy.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–ì—Ä–µ—á–µ—Å–∫–∏–π¬ª',40000,'images/grecheskiy.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–ú–∞–∂–Ω—É–Ω—Ç–æ–ª¬ª',30000,'images/mazhnuntol.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–ú—É–∂—Å–∫–æ–π –∫–∞–ø—Ä–∏–∑¬ª',35000,'images/muzhskoy_kapriz.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–î–∞–º—Å–∫–∏–π –∫–∞–ø—Ä–∏–∑¬ª',35000,'images/damskiy_kapriz.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–û–ª–∏–≤—å–µ¬ª',30000,'images/olivye.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π¬ª',35000,'images/frantsuzskiy.jpg'],
    ['–°–∞–ª–∞—Ç ¬´–°–º–∞–∫¬ª',35000,'images/smak.jpg'],
    ['–¶–µ–∑–∞—Ä—å',35000,'images/cezar.jpg'],
    ['–•—Ä—É—Å—Ç—è—â–∏–π –±–∞–∫–ª–∞–∂–∞–Ω',45000,'images/baklajan.jpg']
],
kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000],['–ö—É—Å–∫–æ–≤–æ–π –±–∞—Ä–∞–Ω–∏–Ω–∞',30000],['–ö–æ—Ä–µ–π–∫–∞',40000],['–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ',22000]],
national:[['–ñ–∏–∑ –ë–∏–∑ 1–∫–≥',260000],['–ñ–∏–∑ –ë–∏–∑ 0.5–∫–≥',130000]],
grill:[['–°—Ç–µ–π–∫ –∫—É—Ä–∏–Ω—ã–π',100000],['–ë–∞—Ä–∞–Ω–∏–Ω–∞ —Å –≥—Ä–∏–±–∞–º–∏ 1–∫–≥',200000]],
first:[['–®—É—Ä–ø–∞',35000],['–ë–æ—Ä—â',25000],['–ú–∞—Å—Ç–∞–≤–∞',25000]],
drinks:[['–ß–∞–π',5000],['Coca-Cola 1L',14000],['Fanta 1.5L',18000],['–õ–∏–º–æ–Ω–∞–¥ –¢–∞—Ä—Ö—É–Ω 0.5L',12000]],
bread:[['–õ–µ–ø–µ—à–∫–∞',10000]]
};


function renderProducts(){
    products.innerHTML='';
    MENU[category]
    .filter(i=>i[0].toLowerCase().includes(searchValue))
    .forEach(([n,p,img])=>{
        cart[n]=cart[n]||0;
        products.innerHTML+=`
        <div class="card">
            <div class="img">
                <img src="${img || 'logo.png'}">
            </div>
            <div class="price">${p} —Å—É–º</div>
            <div class="name">${n}</div>
            <div class="counter">
                <button onclick="chg('${n}',-1,this)">‚àí</button>
                <span id="c_${n}">${cart[n]}</span>
                <button onclick="chg('${n}',1,this)">+</button>
            </div>
        </div>`;
    });
    upd();
}

function toggleSearch(){search.style.display=search.style.display==='block'?'none':'block';}
search.oninput=e=>{searchValue=e.target.value.toLowerCase();renderProducts();};

function renderCats(){
    cats.innerHTML='';
    for(let k in CATS[lang]){
        cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[lang][k]}</button>`;
    }
}

function chg(n,v){
    cart[n]=Math.max(0,(cart[n]||0)+v);
    document.getElementById('c_'+n).innerText=cart[n];
    upd();
}
function upd(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function applyLang(){
    btnDelivery.innerText=TEXT[lang].delivery;
    btnPickup.innerText=TEXT[lang].pickup;
    address.placeholder=TEXT[lang].address;
    phone.placeholder=TEXT[lang].phone;
    cartTitle.innerText=TEXT[lang].cart;
    orderBtn.innerText=TEXT[lang].order;
    comment.placeholder=TEXT[lang].comment;
    search.placeholder=TEXT[lang].search;
    renderCats();renderProducts();
}

function setLang(l,b){
    lang=l;
    document.querySelectorAll('.langs .btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    applyLang();
}
function setType(t,b){
    type=t;
    document.querySelectorAll('.types .btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    address.style.display=t==='pickup'?'none':'block';
}
function setPayment(p){
    payment=p;
    payCash.classList.toggle('active',p==='cash');
    payClick.classList.toggle('active',p==='click');
}

function sendOrder(){
    const order={};
    for(let k in cart) if(cart[k]>0) order[k]=cart[k];
    Telegram.WebApp.sendData(JSON.stringify({order,phone:phone.value||'‚Äî',comment:comment.value||'‚Äî',delivery:type,address:type==='delivery'?address.value:'–°–∞–º–æ–≤—ã–≤–æ–∑',total:total.innerText,payment,lang}));
    Telegram.WebApp.close();
}

applyLang();
</script>

</body>
</html>
